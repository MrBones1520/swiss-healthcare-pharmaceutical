import static com.swiss.healthcare.ProductStatusE.IN_STOCK

model {
    List<ProductItem> allItems      = []
    List<ProductItem> listNotFound  = []
    int inStockCount                = 0
    int outStockCount               = 0
    int outSaleCount                = 0
    int inconOutSale                = 0
    int inconOutStock               = 0
    int inconNotfound               = listNotFound.size()
    int inconLost                   = 0
    int lostCount                   = 0
}

json {
    int notFoundInStock = listNotFound?.findAll { it.status.id == IN_STOCK.id }?.size() ?: 0
    total               g.render([inStockCount , outStockCount, outSaleCount, lostCount])
    inconsistencies     g.render([notFoundInStock, inconOutStock, inconOutSale, inconLost])
    items               g.render(allItems)
    notFounds           g.render(listNotFound)
}